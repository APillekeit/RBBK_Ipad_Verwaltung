# Frontend Dockerfile f체r React
FROM node:20-alpine as build

# Arbeitsverzeichnis setzen
WORKDIR /app

# Package-Dateien kopieren
COPY package*.json ./

# Abh채ngigkeiten installieren (Yarn ist bereits installiert)
RUN yarn install --frozen-lockfile

# Build-Argument f체r Backend-URL
ARG REACT_APP_BACKEND_URL
ENV REACT_APP_BACKEND_URL=$REACT_APP_BACKEND_URL

# Anwendung kopieren
COPY . .

# Anwendung bauen
RUN yarn build

# Build-Artefakte in Volume kopieren
FROM alpine:latest
WORKDIR /app
COPY --from=build /app/build ./build

# Dummy-Kommando (Container wird nur f체r Build-Artefakte verwendet)
CMD ["echo", "Frontend build completed"]